<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Build Review - Milestone 01 Production | Eric J. Reyes Rivera</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1614 0%, #2d1810 100%);
            color: #e4e4e7;
            line-height: 1.6;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 30px;
            border-bottom: 2px solid rgba(251, 146, 60, 0.3);
        }

        h1 {
            font-size: 2.5em;
            color: #fb923c;
            margin-bottom: 20px;
            text-shadow: 0 0 20px rgba(251, 146, 60, 0.3);
        }

        .metadata {
            display: flex;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .metadata-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 10px 20px;
            background: rgba(251, 146, 60, 0.1);
            border-radius: 10px;
            border: 1px solid rgba(251, 146, 60, 0.2);
        }

        .metadata-label {
            font-size: 0.8em;
            color: #fb923c;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 5px;
        }

        .metadata-value {
            font-size: 1.1em;
            font-weight: 600;
            color: #e4e4e7;
        }

        h2 {
            font-size: 1.8em;
            color: #fdba74;
            margin-top: 40px;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid rgba(251, 146, 60, 0.2);
        }

        h3 {
            font-size: 1.3em;
            color: #fed7aa;
            margin-top: 25px;
            margin-bottom: 15px;
        }

        h4 {
            font-size: 1.1em;
            color: #fb923c;
            margin-top: 20px;
            margin-bottom: 10px;
        }

        p {
            margin-bottom: 15px;
            color: #d4d4d8;
        }

        ul {
            margin-left: 25px;
            margin-bottom: 20px;
        }

        li {
            margin-bottom: 10px;
            color: #d4d4d8;
        }

        .section {
            margin-bottom: 30px;
        }

        .highlight-box {
            background: rgba(251, 146, 60, 0.1);
            border-left: 4px solid #fb923c;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .issue-box {
            background: rgba(251, 191, 36, 0.1);
            border-left: 4px solid #fbbf24;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .issue-title {
            color: #fbbf24;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .solution {
            color: #86efac;
            font-weight: 600;
            margin-top: 10px;
        }

        code {
            background: rgba(0, 0, 0, 0.3);
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            color: #fb923c;
            font-size: 0.9em;
        }

        .badge {
            display: inline-block;
            background: rgba(251, 146, 60, 0.2);
            color: #fdba74;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.85em;
            font-weight: 600;
            margin-right: 10px;
            margin-bottom: 10px;
        }

        .footer {
            margin-top: 50px;
            padding-top: 30px;
            border-top: 2px solid rgba(251, 146, 60, 0.3);
            text-align: center;
            color: #a1a1aa;
            font-size: 0.9em;
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }

            h1 {
                font-size: 2em;
            }

            h2 {
                font-size: 1.5em;
            }

            .metadata {
                flex-direction: column;
                gap: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Build Review Blog Post</h1>
            <div class="metadata">
                <div class="metadata-item">
                    <span class="metadata-label">Date</span>
                    <span class="metadata-value">December 2, 2025</span>
                </div>
                <div class="metadata-item">
                    <span class="metadata-label">Milestone</span>
                    <span class="metadata-value">1.12 Milestone - 01 - Production</span>
                </div>
                <div class="metadata-item">
                    <span class="metadata-label">Student</span>
                    <span class="metadata-value">Eric J. Reyes Rivera</span>
                </div>
            </div>
        </header>

        <section class="section">
            <h2>1. Introduction</h2>
            <p>I am Eric J. Reyes Rivera, a Computer Science student at Full Sail University with an AI concentration, and this is my build review for the OrderEasy application. This post outlines the progress made during this milestone, focusing on payment infrastructure, session security, and UI standardization.</p>
        </section>

        <section class="section">
            <h2>2. App Overview</h2>
            <p>OrderEasy is a multi-restaurant reservation and ordering platform designed to streamline the dining experience. It allows users to browse restaurants, book tables, pre-order meals, and pay securely online. My primary responsibility in this development phase has been focusing on the <strong>Payment Infrastructure</strong>, <strong>Session Security</strong>, and <strong>UI/UX Standardization</strong>.</p>
            
            <div style="margin-top: 15px;">
                <span class="badge">Node.js/Express</span>
                <span class="badge">React/Vite</span>
                <span class="badge">PostgreSQL</span>
                <span class="badge">Socket.IO</span>
                <span class="badge">Stripe API</span>
            </div>
        </section>

        <section class="section">
            <h2>3. Work Accomplished This Week</h2>

            <h3>A. Stripe Webhook Integration (Backend)</h3>
            <p>One of the biggest technical achievements this week was implementing robust Stripe Webhooks. Previously, we relied on the client side to confirm payments, which is insecure.</p>
            <ul>
                <li>I created a dedicated <code>WebhookController</code> to listen for <code>payment_intent.succeeded</code> events directly from Stripe.</li>
                <li>I implemented Signature Verification using <code>express.raw</code> middleware to ensure requests genuinely come from Stripe.</li>
                <li>This ensures that even if a user closes their browser immediately after paying, our database still updates the order status correctly.</li>
            </ul>

            <h3>B. Session Expiration Handling (Frontend & Backend)</h3>
            <p>To improve security and user experience, I implemented a global handler for session expiration.</p>
            <ul>
                <li>I built a custom <code>fetchWithAuth</code> utility that intercepts <code>401 Unauthorized</code> responses.</li>
                <li>It dispatches a system wide event that instantly logs the user out and redirects them to the login page with a clear message.</li>
                <li>This prevents users from getting stuck in broken states when their token becomes invalid.</li>
            </ul>

            <h3>C. UI Standardization & Premium Aesthetic</h3>
            <p>On the frontend, I focused on standardizing the application's look and feel to match our premium "Night Mode" aesthetic.</p>
            <ul>
                <li>I redesigned the Login Page with radial gradients and glassmorphism effects.</li>
                <li>I refactored the Header System, removing inconsistent manual headers from pages like Payment and Order Status.</li>
                <li>Now, the global <code>Navbar</code> seamlessly overlays these pages, providing a unified navigation experience across the entire app.</li>
            </ul>
        </section>

        <section class="section">
            <h2>4. Issues Encountered & Solutions</h2>

            <div class="issue-box">
                <h4 class="issue-title">Issue 1: Stripe Signature Verification</h4>
                <p>I ran into a significant issue where Stripe's signature verification was failing. It turned out that Express was parsing the request body as JSON globally, but Stripe needs the raw buffer stream for verification.</p>
                <p class="solution">Course of Action:</p>
                <p>I reconfigured the server middleware to apply <code>express.raw</code> specifically to the webhook route before the global JSON parser. This resolved the verification errors immediately.</p>
            </div>

            <div class="issue-box">
                <h4 class="issue-title">Issue 2: Header Layout Shifts</h4>
                <p>When applying the global navbar to the Login page, it created an unwanted white gap at the top.</p>
                <p class="solution">Course of Action:</p>
                <p>I updated the <code>Navbar</code> component's logic to explicitly treat <code>/login</code> and other pages as "transparent overlay" routes, setting the spacer height to 0px. This fixed the layout shift.</p>
            </div>

        </section>

        <section class="section">
            <h2>5. Upcoming Work (Next Week)</h2>
            <p>For the coming week, my focus will shift toward:</p>

            <h3>A. Testing & Quality Assurance</h3>
            <ul>
                <li>Conducting end to end testing of the complete payment flow across multiple browsers</li>
                <li>Writing unit tests for the webhook controller to ensure reliability</li>
                <li>Performing security audits on authentication and payment endpoints</li>
            </ul>

            <h3>B. Improve administartion tools</h3>
            <ul>
                <li>Improve administartion tools</li>
                <li>Test and debug</li>
            </ul>

        </section>

        <footer class="footer">
            <p>Full Sail University | Project & Portfolio III | Team4</p>
            <p>Computer Science - AI Concentration</p>
        </footer>
    </div>
</body>
</html>
